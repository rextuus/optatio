{% extends 'base.html.twig' %}

{% block title %}Wichtelrunde erstellen{% endblock %}

{% block body %}
    <div class="ss-container">
        <div class="ss-banner"></div>

        <div class="page-header">
            <div class="page-header-text">
                {{ event.name }}
            </div>
            <div class="page-header-image">
                <img src="{{ asset('assets/img/registration.svg') }}" alt="Tile image">
            </div>
        </div>
        <div class="content-body">

            <div class="ss-header"></div>

            <div class="ss-participant-header">
                <div class="ss-participant-header-header">Info</div>
                <div class="ss-participant-header-rounds">
                    <div class="ss-participant-header-col">
                        <div class="ss-participant-header-round">
                            <img src="{{ asset('assets/img/tree.svg') }}" alt="Tile image">
                            <div class="ss-participant-header-amount">{{ statistic.firstRoundRetrieved }}/{{ event.firstRound.participants|length }}</div>
                        </div>

                        {% if event.isDoubleRound %}
                        <div class="ss-participant-header-round">
                            <img src="{{ asset('assets/img/santa.svg') }}" alt="Tile image">
                            <div class="ss-participant-header-amount">{{ statistic.secondRoundRetrieved }}/{{ event.secondRound.participants|length }}</div>
                        </div>
                        {% endif %}
                    </div>

                    <div class="ss-participant-header-col">
                        <div class="ss-participant-header-round">
                            <img src="{{ asset('assets/img/gift.svg') }}" alt="Tile image">
                            <div class="ss-participant-header-amount">{{ statistic.desiresTotal }}</div>
                            <span class="ss-participant-header-round-text">Wünsche insgesamt</span>
                        </div>

                        <div class="ss-participant-header-round">
                            <img src="{{ asset('assets/img/reserve.svg') }}" alt="Tile image">
                            <div class="ss-participant-header-amount">{{ statistic.desiresReserved }}</div>
                            <span class="ss-participant-header-round-text">Reservierungen insgesamt</span>
                        </div>

                        <div class="ss-participant-header-round">
                            <img src="{{ asset('assets/img/grinch.svg') }}" alt="Tile image">
                            <div class="ss-participant-header-amount">{{ statistic.userWithoutDesires }}</div>
                            <span class="ss-participant-header-round-text">Grinches ohne Wünsche</span>
                        </div>

                    </div>

                </div>
            </div>

            <div class="simple-text-box font-size-1-2">{{ stateText|raw }}</div>

            {% if showPick %}
                {{ component('SecretSantaPickComponent', { secret: secret, secretSantaEvent: event, currentUser: user, firstRound: showFirstRoundPick}) }}
            {% endif %}

            {% if firstRoundList is not null %}
                {#                <div class="desire-create-button"> #}
                {#                    <a href="{{ path('app_desire_list', {'desireList': firstRoundList.id}) }}"> #}
                {#                        <button> #}
                {#                            {{ firstRoundList.owner.firstName }}'s Wunschliste #}
                {#                        </button> #}
                {#                    </a> #}
                {#                </div> #}

                <div class="desire-image-button">
                    <a href="{{ path('app_desire_list', {'desireList': firstRoundList.id}) }}">
                        <button>
                            <img src="{{ asset('assets/img/tree.svg') }}" alt="Tile image">
                            <span class="desire-image-button-text">{{ firstRoundList.owner.firstName }}'s Wunschliste</span>
                        </button>
                    </a>
                </div>
            {% endif %}

            {% if secondRoundList is not null %}
                {#                <div class="desire-create-button"> #}
                {#                    <a href="{{ path('app_desire_list', {'desireList': secondRoundList.id}) }}"> #}
                {#                        <button> #}
                {#                            {{ secondRoundList.owner.firstName }}'s Wunschliste #}
                {#                        </button> #}
                {#                    </a> #}
                {#                </div> #}

                <div class="desire-image-button">
                    <a href="{{ path('app_desire_list', {'desireList': secondRoundList.id}) }}">
                        <button>
                            <img src="{{ asset('assets/img/santa.svg') }}" alt="Tile image">
                            <span class="desire-image-button-text">Zu {{ secondRoundList.owner.firstName }}'s Wunschliste</span>
                        </button>
                    </a>
                </div>
            {% endif %}

            {% if godFatherDesireLists is not null %}
                {% for godFatherDesireList in godFatherDesireLists %}
                    <div class="desire-image-button">
                        <a href="{{ path('app_desire_list', {'desireList': godFatherDesireList.id}) }}">
                            <button>
                                <img src="{{ asset('assets/img/santa.svg') }}" alt="Tile image">
                                <span class="desire-image-button-text">Zu {{ godFatherDesireList.owner.firstName }}'s Wunschliste</span>
                            </button>
                        </a>
                    </div>
                {% endfor %}
            {% endif %}

            {#            <div class="desire-create-button"> #}
            {#                <a href="{{ path('app_desire_list', {'desireList': ownList.id}) }}"> #}
            {#                    <button> #}
            {#                        Zu deiner Wunschliste #}
            {#                    </button> #}
            {#                </a> #}
            {#            </div> #}

            <div class="desire-image-button">
                <a href="{{ path('app_desire_list',  {'desireList': ownList.id}) }}">
                    <button>
                        <img src="{{ asset('assets/img/heart.svg') }}" alt="Tile image">
                        <span class="desire-image-button-text">Zu deiner Wunschliste</span>
                    </button>
                </a>
            </div>

            {#            <div class="desire-create-button"> #}
            {#                <a href="{{ path('app_exclusion_create', {'event': event.id}) }}"> #}
            {#                    <button> #}
            {#                        Personen ausschließen #}
            {#                    </button> #}
            {#                </a> #}
            {#            </div> #}

            {% if event.state.value == 'open' %}
            <div class="desire-image-button">
                <a href="{{ path('app_exclusion_create', {'event': event.id}) }}">
                    <button>
                        <img src="{{ asset('assets/img/stop.svg') }}" alt="Tile image">
                        <span class="desire-image-button-text">Personen ausschließen</span>
                    </button>
                </a>
            </div>
            {% endif %}

            {% if isOwner %}
                <div class="desire-image-button">
                    <a href="{{ path('app_secret_santa_admin', {'event': event.id}) }}">
                        <button>
                            <i class="fa-solid fa-gears"></i>
                            <span class="desire-image-button-text">Event Einstellungen</span>
                        </button>
                    </a>
                </div>
            {% endif %}


        </div>
    </div>



{% endblock %}